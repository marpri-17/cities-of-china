(this.webpackJsonpmy=this.webpackJsonpmy||[]).push([[0],{15:function(e,t,a){e.exports=a(31)},20:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(8),r=a.n(i),c=(a(20),a(9)),s=a(10),m=a(11),o=a(13),u=a(12),h=a(2),d=a(14),p=a(3),y=a(6),C=(a(24),function(){return l.a.createElement("header",{className:"header__wrapper"},l.a.createElement("h1",{className:"header__title"},"Cities of China"),l.a.createElement("hr",null))}),f=function(e){var t=e.city,a=e.handleCityCheckbox;return l.a.createElement("li",{key:t.id,className:"main__list_item","data-id":t.id},l.a.createElement("input",{type:"checkbox",onChange:a,name:"listinput",checked:t.isSelected}),l.a.createElement("label",{className:"main__list_item_label",htmlFor:"listinput"},l.a.createElement("span",null)),l.a.createElement("img",{src:"./images/landscape.svg",alt:"",className:"main__list_img"}),l.a.createElement("div",{className:"main__list_infowrapper"},l.a.createElement("p",null,t.name),l.a.createElement("p",{lang:"zh"},t.chineseName)))},_=(a(25),function(e){var t=e.cities,a=e.handleCityCheckbox,n=e.handleSelectAll,i=e.handleCheck;return l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",onChange:n,checked:i()}),l.a.createElement("label",{className:"main__list_selectAll-label"},l.a.createElement("span",{onChange:n})," ",t.length," items"),l.a.createElement("hr",null),l.a.createElement("div",{className:"main__list_wrapper"},l.a.createElement("ul",{className:"main__list"},t.map((function(e){return l.a.createElement(f,{city:e,handleCityCheckbox:a,key:e.id})})))))}),v=a(4),b=function(e){var t=e.selectedCities,a=e.handleDeleteCity,n=e.resetSelectedList;return l.a.createElement("div",{className:"main__selected_wrapper"},l.a.createElement("div",{className:"main__selected_header"},l.a.createElement("p",{className:"main__selected_header_length"},t.length," items"),l.a.createElement("p",{className:"main__selected_header_clear",onClick:n},"clear")),l.a.createElement("div",{className:"main__selected_wrapperlist"},l.a.createElement("ul",{className:"main__selected_list"},t.length?t.map((function(e){return l.a.createElement("li",{key:e.id,className:"main__selected_item","data-id":e.id,onClick:a},l.a.createElement("img",{src:"./images/landscape.svg",alt:"",className:"main__list_img"}),l.a.createElement("div",{className:"main__list_infowrapper"},l.a.createElement("p",null,e.name),l.a.createElement("p",{lang:"zh"},e.chineseName)),l.a.createElement("div",{className:"main__selected_iconwrapper"},l.a.createElement(v.a,{icon:"times",className:"main__selected_icon"})))})):"Select a city individually or all at once!")))},E=(a(28),function(e){var t=e.handleFilterByName;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"filter__wrapper"},l.a.createElement(v.a,{icon:"search"}),l.a.createElement("input",{type:"text",className:"filter__inputname",placeholder:"Search city by Name",onChange:t})),l.a.createElement("hr",null))}),S=(a(29),function(){return l.a.createElement("div",{className:"loader__wrapper"},l.a.createElement("div",{className:"loader"},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null)))});a(30);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}p.b.add(y.b,y.a);var k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={allChinaCities:[],nameQuery:""},a.getAllCitiesFromServer=a.getAllCitiesFromServer.bind(Object(h.a)(a)),a.handleCityCheckbox=a.handleCityCheckbox.bind(Object(h.a)(a)),a.handleDeleteCity=a.handleDeleteCity.bind(Object(h.a)(a)),a.resetSelectedList=a.resetSelectedList.bind(Object(h.a)(a)),a.handleSelectAll=a.handleSelectAll.bind(Object(h.a)(a)),a.handleFilterByName=a.handleFilterByName.bind(Object(h.a)(a)),a.handleCheck=a.handleCheck.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getAllCitiesFromServer()}},{key:"getAllCitiesFromServer",value:function(){var e=this;fetch("./cities-of-china.json").then((function(e){return e.json()})).then((function(e){return e.cities.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{isSelected:!1})}))})).then((function(t){return e.setState({allChinaCities:t})}))}},{key:"handleCityCheckbox",value:function(e){var t=this.state.allChinaCities,a=e.target.parentNode.dataset.id,n=[],l=!0,i=!1,r=void 0;try{for(var c,s=t[Symbol.iterator]();!(l=(c=s.next()).done);l=!0){var m=c.value;a===m.id?(m.isSelected=!m.isSelected,n.push(m)):n.push(m)}}catch(o){i=!0,r=o}finally{try{l||null==s.return||s.return()}finally{if(i)throw r}}this.setState({allChinaCities:n})}},{key:"handleDeleteCity",value:function(e){var t=this.state.allChinaCities,a=e.currentTarget.dataset.id,n=[],l=!0,i=!1,r=void 0;try{for(var c,s=t[Symbol.iterator]();!(l=(c=s.next()).done);l=!0){var m=c.value;m.id===a?(m.isSelected=!1,n.push(m)):n.push(m)}}catch(o){i=!0,r=o}finally{try{l||null==s.return||s.return()}finally{if(i)throw r}}this.setState({allChinaCities:n})}},{key:"resetSelectedList",value:function(){var e=this.state.allChinaCities.map((function(e){return e.isSelected=!1,e}));this.setState({allChinaCities:e})}},{key:"handleSelectAll",value:function(){var e=this.state,t=e.allChinaCities,a=e.nameQuery,n=t.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})),l=[],i=!0,r=!1,c=void 0;try{for(var s,m=t[Symbol.iterator]();!(i=(s=m.next()).done);i=!0){var o=s.value;n.includes(o)&&(o.isSelected=!0),l.push(o)}}catch(u){r=!0,c=u}finally{try{i||null==m.return||m.return()}finally{if(r)throw c}}this.setState({allChinaCities:l})}},{key:"handleFilterByName",value:function(e){var t=e.target.value;this.setState({nameQuery:t})}},{key:"handleCheck",value:function(){var e=this.state,t=e.allChinaCities,a=e.nameQuery;return t.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})).reduce((function(e,t){return!1!==t.isSelected&&e}),!0)}},{key:"render",value:function(){var e=this.state,t=e.allChinaCities,a=e.nameQuery;return l.a.createElement("div",{className:"App"},l.a.createElement(C,null),""==t?l.a.createElement(S,null):l.a.createElement("section",{className:"section__main"},l.a.createElement("div",{className:"section__main_wrapper"},l.a.createElement(E,{handleFilterByName:this.handleFilterByName,nameQuery:a}),l.a.createElement(_,{cities:t.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})),handleCityCheckbox:this.handleCityCheckbox,handleSelectAll:this.handleSelectAll,handleCheck:this.handleCheck})),l.a.createElement(b,{selectedCities:t.filter((function(e){return e.isSelected})),handleDeleteCity:this.handleDeleteCity,resetSelectedList:this.resetSelectedList})))}}]),t}(l.a.Component);r.a.render(l.a.createElement(k,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.2f26170f.chunk.js.map