(this.webpackJsonpmy=this.webpackJsonpmy||[]).push([[0],{15:function(e,t,a){e.exports=a(31)},20:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),i=a(9),c=a.n(i),r=(a(20),a(4)),s=a(10),m=a(11),d=a(13),o=a(12),u=a(2),h=a(14),_=a(3),p=a(7),C=(a(24),function(){return n.a.createElement("header",{className:"header__wrapper"},n.a.createElement("h1",{className:"header__title"},"Cities of China"),n.a.createElement("hr",null))}),y=(a(25),function(e){var t=e.cities,a=e.handleCityCheckbox,l=e.handleSelectAll,i=e.selectedCities;return n.a.createElement("div",{className:"main__list_wrapper"},n.a.createElement("input",{type:"checkbox",onClick:l}),n.a.createElement("label",{className:"main__list_selectAll-label"},n.a.createElement("span",{onClick:l})," ",t.length," items"),n.a.createElement("hr",null),n.a.createElement("ul",{className:"main__list"},t.map((function(e){var t=!1;return t=!!i.includes(e),n.a.createElement("li",{key:e.id,className:"main__list_item","data-id":e.id},t?n.a.createElement(n.a.Fragment,null,n.a.createElement("input",{type:"checkbox",onClick:a,name:"listinput",checked:!0}),n.a.createElement("label",{className:"main__list_item_label",htmlFor:"listinput"},n.a.createElement("span",null))):n.a.createElement(n.a.Fragment,null,n.a.createElement("input",{type:"checkbox",onClick:a,name:"listinput"}),n.a.createElement("label",{className:"main__list_item_label",htmlFor:"listinput"},n.a.createElement("span",null))),n.a.createElement("img",{src:"./images/landscape.svg",alt:"",className:"main__list_img"}),n.a.createElement("div",{className:"main__list_infowrapper"},n.a.createElement("p",null,e.name),n.a.createElement("p",{lang:"zh"},e.chineseName)))}))))}),v=a(5),f=function(e){var t=e.selectedCities,a=e.handleDeleteCity,l=e.resetSelectedList;return n.a.createElement("div",{className:"main__selected_wrapper"},n.a.createElement("div",{className:"main__selected_header"},n.a.createElement("p",{className:"main__selected_header_length"},t.length," items"),n.a.createElement("p",{className:"main__selected_header_clear",onClick:l},"clear")),n.a.createElement("div",{className:"main__selected_wrapperlist"},n.a.createElement("ul",{className:"main__selected_list"},t.length?t.map((function(e){return n.a.createElement("li",{key:e.id,className:"main__selected_item","data-id":e.id,onClick:a},n.a.createElement("img",{src:"./images/landscape.svg",alt:"",className:"main__list_img"}),n.a.createElement("div",{className:"main__list_infowrapper"},n.a.createElement("p",null,e.name),n.a.createElement("p",{lang:"zh"},e.chineseName)),n.a.createElement("div",{className:"main__selected_iconwrapper"},n.a.createElement(v.a,{icon:"times",className:"main__selected_icon"})))})):"Select a city individually or all at once!")))},E=(a(28),function(e){var t=e.handleFilterByName;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"filter__wrapper"},n.a.createElement(v.a,{icon:"search"}),n.a.createElement("input",{type:"text",className:"filter__inputname",placeholder:"Search city by Name",onKeyUp:t})),n.a.createElement("hr",null))}),b=(a(29),function(){return n.a.createElement("div",{className:"loader__wrapper"},n.a.createElement("div",{className:"loader"},n.a.createElement("span",null),n.a.createElement("span",null),n.a.createElement("span",null)))});a(30);_.b.add(p.b,p.a);var N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(o.a)(t).call(this,e))).state={allChinaCities:[],selectedCities:[],nameQuery:""},a.getAllCitiesFromServer=a.getAllCitiesFromServer.bind(Object(u.a)(a)),a.handleCityCheckbox=a.handleCityCheckbox.bind(Object(u.a)(a)),a.handleDeleteCity=a.handleDeleteCity.bind(Object(u.a)(a)),a.resetSelectedList=a.resetSelectedList.bind(Object(u.a)(a)),a.handleSelectAll=a.handleSelectAll.bind(Object(u.a)(a)),a.handleFilterByName=a.handleFilterByName.bind(Object(u.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getAllCitiesFromServer()}},{key:"getAllCitiesFromServer",value:function(){var e=this;fetch("./cities-of-china.json").then((function(e){return e.json()})).then((function(t){return e.setState({allChinaCities:t.cities})}))}},{key:"handleCityCheckbox",value:function(e){var t=this.state,a=t.allChinaCities,l=t.selectedCities,n=e.target.parentNode.dataset.id;if(e.target.checked){var i=!0,c=!1,s=void 0;try{for(var m,d=a[Symbol.iterator]();!(i=(m=d.next()).done);i=!0){var o=m.value;n===o.id&&this.setState({selectedCities:l.concat(o)})}}catch(E){c=!0,s=E}finally{try{i||null==d.return||d.return()}finally{if(c)throw s}}}else{var u=!0,h=!1,_=void 0;try{for(var p,C=l[Symbol.iterator]();!(u=(p=C.next()).done);u=!0){var y=p.value;if(y.id===n){var v=l.indexOf(y),f=[].concat(Object(r.a)(l.splice(0,v)),Object(r.a)(l.splice(v+1)));this.setState({selectedCities:f})}}}catch(E){h=!0,_=E}finally{try{u||null==C.return||C.return()}finally{if(h)throw _}}}}},{key:"handleDeleteCity",value:function(e){var t=this.state.selectedCities,a=e.currentTarget.dataset.id,l=!0,n=!1,i=void 0;try{for(var c,s=t[Symbol.iterator]();!(l=(c=s.next()).done);l=!0){var m=c.value;if(m.id===a){var d=t.indexOf(m),o=[].concat(Object(r.a)(t.slice(0,d)),Object(r.a)(t.slice(d+1)));this.setState({selectedCities:o})}}}catch(u){n=!0,i=u}finally{try{l||null==s.return||s.return()}finally{if(n)throw i}}}},{key:"resetSelectedList",value:function(){this.setState({selectedCities:[]})}},{key:"handleSelectAll",value:function(e){var t=this.state,a=t.allChinaCities,l=t.nameQuery;if(l){var n=a.filter((function(e){return e.name.toLowerCase().includes(l.toLowerCase())}));e.target.checked?this.setState({selectedCities:n}):this.setState({selectedCities:[]})}else e.target.checked?this.setState({selectedCities:a}):this.setState({selectedCities:[]})}},{key:"handleFilterByName",value:function(e){var t=e.target.value;this.setState({nameQuery:t})}},{key:"render",value:function(){var e=this.state,t=e.allChinaCities,a=e.selectedCities,l=e.nameQuery;return n.a.createElement("div",{className:"App"},n.a.createElement(C,null),""==t?n.a.createElement(b,null):n.a.createElement("section",{className:"section__main"},n.a.createElement("div",{className:"section__main_wrapper"},n.a.createElement(E,{handleFilterByName:this.handleFilterByName}),n.a.createElement(y,{cities:t.filter((function(e){return e.name.toLowerCase().includes(l.toLowerCase())})),handleCityCheckbox:this.handleCityCheckbox,handleSelectAll:this.handleSelectAll,selectedCities:a})),n.a.createElement(f,{selectedCities:a,handleDeleteCity:this.handleDeleteCity,resetSelectedList:this.resetSelectedList})))}}]),t}(n.a.Component);c.a.render(n.a.createElement(N,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.f9c7d4fd.chunk.js.map